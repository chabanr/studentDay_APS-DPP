
import datetime
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from matplotlib.dates import DateFormatter

timestamps_2023 = [ '10/16/2022 12:36:59', '10/16/2022 12:46:20', '10/16/2022 12:50:47', '10/16/2022 12:50:51', '10/16/2022 12:51:24', '10/16/2022 12:51:28', '10/16/2022 12:51:43', '10/16/2022 12:51:48', '10/16/2022 12:52:47', '10/16/2022 12:53:48', '10/16/2022 12:53:50', '10/16/2022 12:55:20', '10/16/2022 12:56:16', '10/16/2022 12:56:45', '10/16/2022 12:57:02', '10/16/2022 12:57:42', '10/16/2022 12:57:45', '10/16/2022 12:58:00', '10/16/2022 12:58:39', '10/16/2022 12:58:59', '10/16/2022 12:59:22', '10/16/2022 12:59:23', '10/16/2022 12:59:41', '10/16/2022 12:59:47', '10/16/2022 12:59:50', '10/16/2022 12:59:53', '10/16/2022 13:00:26', '10/16/2022 13:00:36', '10/16/2022 13:00:36', '10/16/2022 13:00:45', '10/16/2022 13:00:48', '10/16/2022 13:00:53', '10/16/2022 13:00:53', '10/16/2022 13:00:56', '10/16/2022 13:01:00', '10/16/2022 13:01:12', '10/16/2022 13:01:15', '10/16/2022 13:01:17', '10/16/2022 13:01:18', '10/16/2022 13:01:29', '10/16/2022 13:01:45', '10/16/2022 13:01:46', '10/16/2022 13:01:55', '10/16/2022 13:02:11', '10/16/2022 13:02:22', '10/16/2022 13:02:25', '10/16/2022 13:02:30', '10/16/2022 13:02:31', '10/16/2022 13:02:42', '10/16/2022 13:02:47', '10/16/2022 13:02:49', '10/16/2022 13:03:05', '10/16/2022 13:03:35', '10/16/2022 13:04:02', '10/16/2022 13:04:43', '10/16/2022 13:04:52', '10/16/2022 13:06:19', '10/16/2022 13:08:29', '10/16/2022 13:08:44', '10/16/2022 13:09:00', '10/16/2022 13:09:20', '10/16/2022 13:15:21', '10/16/2022 13:15:38', '10/16/2022 13:16:15', '10/16/2022 13:16:28', '10/16/2022 13:16:47', '10/16/2022 13:17:07', '10/16/2022 13:17:32', '10/16/2022 13:18:04', '10/16/2022 13:18:11', '10/16/2022 13:18:21', '10/16/2022 13:19:04', '10/16/2022 13:25:11', '10/16/2022 13:27:45', '10/16/2022 13:28:01', '10/16/2022 13:30:37', '10/16/2022 13:32:18', '10/16/2022 13:32:27', '10/16/2022 13:36:59', '10/16/2022 13:37:01', '10/16/2022 13:38:51', '10/16/2022 13:44:11', '10/16/2022 13:47:09', '10/16/2022 13:47:17', '10/16/2022 13:47:21', '10/16/2022 13:47:33', '10/16/2022 13:47:58', '10/16/2022 13:48:10', '10/16/2022 13:48:10', '10/16/2022 13:48:29', '10/16/2022 13:48:43', '10/16/2022 13:48:45', '10/16/2022 13:48:48', '10/16/2022 13:49:00', '10/16/2022 13:51:25', '10/16/2022 13:52:21', '10/16/2022 13:52:36', '10/16/2022 13:53:44', '10/16/2022 13:54:15', '10/16/2022 13:54:36', '10/16/2022 13:55:45', '10/16/2022 13:56:48', '10/16/2022 14:04:01', '10/16/2022 14:08:11', '10/16/2022 14:09:52', '10/16/2022 14:13:20', '10/16/2022 14:14:17', '10/16/2022 14:14:23', '10/16/2022 14:16:30', '10/16/2022 14:19:00', '10/16/2022 14:19:42', '10/16/2022 14:25:34', '10/16/2022 14:26:01', '10/16/2022 14:26:38', '10/16/2022 14:26:57', '10/16/2022 14:28:39', '10/16/2022 14:32:20', '10/16/2022 14:32:49', '10/16/2022 14:34:37', '10/16/2022 14:40:41', '10/16/2022 14:46:51', '10/16/2022 14:49:13', '10/16/2022 14:52:17', '10/16/2022 14:53:33', '10/16/2022 14:53:33', '10/16/2022 14:53:40', '10/16/2022 14:55:14', '10/16/2022 14:57:48', '10/16/2022 15:02:41', '10/16/2022 15:02:50', '10/16/2022 15:03:05', '10/16/2022 15:03:11', '10/16/2022 15:04:06', '10/16/2022 15:39:14', '10/16/2022 15:39:31', '10/16/2022 15:45:26', '10/16/2022 15:45:30', '10/16/2022 15:45:50', '10/16/2022 15:47:45', '10/16/2022 15:55:20', '10/16/2022 16:01:31', '10/16/2022 16:35:35', '10/16/2022 16:42:11', '10/16/2022 16:53:30', '10/16/2022 19:35:51']

#S = pd.Series(timestamps_2023)
S = timestamps_2023
df = pd.DataFrame({'datetime': pd.to_datetime(S, errors='coerce')})
df['Time'] = df['datetime'].dt.floor('T').dt.time  # remove the seconds then the date

df['ones'] = np.ones(len(timestamps_2023))

#df['Times'] = df['Time'].dt.floor('Min')

df['cs'] = df['ones'].cumsum()

# DO the actual plotting
formatter = DateFormatter('%H:%M')

ax = df.plot(x='Time', y='cs')
# removeing the seconds from the labels is a PITA


#ax.xaxis.set_major_formatter(formatter)
#ax.set_xlim([datetime.time(12, 30), datetime.time(18, 00)])


plt.show()

#df.plot(x='time', y='cs')

